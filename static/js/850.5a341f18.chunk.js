"use strict";(self.webpackChunkchaosx_18=self.webpackChunkchaosx_18||[]).push([[850],{5850:function(e,n,t){t.r(n),t.d(n,{default:function(){return N}});var i=t(9439),s=t(2791),o=t(9434),a=t(5932),r=t(9085),c="styles_container__ikqpf",l="styles_container_miningInfo__s-DLW",u="styles_container_miningInfo_aurumBoosters__4onUL",d="styles_container_miningInfo_timeInfo__Q5TNs",h="styles_container_miningInfo_mainInfo__C+BUD",m="styles_container_buttonWrapper__QmY+K",v=t(7912),f=t(2181),p=t(9677),_=t(939),g=t(7086),x=t(175),w=t(3267),S=t(3102),k=t(1837),y=t(3329),b=s.lazy((function(){return t.e(356).then(t.bind(t,6356))})),j={"Chaos X-18 Mine Aurum":g,"ChaosX-18 Mine Celium":x,"ChaosX-18 Building Slot":w,"ChaosX-18 Level Up token":S,"Teleport to ChaosX-18":k},N=function(e){var n,t=e.mine,g=(0,s.useRef)(null),x=(0,o.I0)(),w=(0,s.useState)(null),S=(0,i.Z)(w,2),k=S[0],N=S[1],A=(0,o.v9)((function(e){return e.user})),M=A.waxConnected,D=A.anchorConnected,L=(0,o.v9)((function(e){return e.nfts})),C=L.myWorkingNfts,T=L.myNfts,I=function(e){var n=T.filter((function(e){return"ChaosX-18 Level Up token"===e.name}));n[0]?D?function(e,n){var t,i,s,o,a;k||(N(e.asset_id),null===(t=v.n.anchorSession)||void 0===t||t.transact({actions:[{account:"atomicassets",name:"transfer",authorization:[{actor:null===(i=v.n.anchorSession)||void 0===i||null===(s=i.auth)||void 0===s?void 0:s.actor.toString(),permission:"active"}],data:{from:null===(o=v.n.anchorSession)||void 0===o||null===(a=o.auth)||void 0===a?void 0:a.actor.toString(),to:"xcryptochaos",asset_ids:[n.asset_id],memo:"burn@level@"+e.asset_id}}]},{blocksBehind:3,expireSeconds:30}).then((function(e){r.Am.success("Mine upgrading started, you can mine it when it will be finished"),N(null)})).catch((function(e){r.Am.error("NFT doesn't upgraded, try again"),N(null)})))}(e,n[0]):M&&function(e,n){var t,i;k||(N(e.asset_id),v.n.wax.api.transact({actions:[{account:"atomicassets",name:"transfer",authorization:[{actor:null===(t=v.n.wax)||void 0===t?void 0:t.userAccount,permission:"active"}],data:{from:null===(i=v.n.wax)||void 0===i?void 0:i.userAccount,to:"xcryptochaos",asset_ids:[n.asset_id],memo:"burn@level@"+e.asset_id}}]},{blocksBehind:3,expireSeconds:30}).then((function(e){r.Am.success("NFT successfully upgraded, you can mine it after 24 hours"),N(null)})).catch((function(e){r.Am.error("Mine doesn't upgraded, try again after one minute"),N(null)})))}(e,n[0]):r.Am.error("To upgrade your mine purchase ChaosX-18 Level Up token")};return(0,s.useEffect)((function(){t&&setTimeout((function(){x((0,f.gr)(t.asset_id))}),1e3),x((0,f.tV)())}),[x,t]),(0,y.jsxs)(a.E.div,{viewport:{root:g,once:!0},transition:{type:"spring",ease:"easeInOut",damping:35,delay:.5},variants:{initial:{opacity:0},whileInView:{opacity:1}},initial:"initial",whileInView:"whileInView",className:c,children:[C&&(0,y.jsx)(s.Suspense,{fallback:(0,y.jsx)(_.Z,{size:250}),children:(0,y.jsx)(b,{nft:C[null===t||void 0===t?void 0:t.asset_id],image:j[null===(n=C[null===t||void 0===t?void 0:t.asset_id])||void 0===n?void 0:n.name],functional:!1},null===t||void 0===t?void 0:t.asset_id)},t.asset_id),t&&(0,y.jsxs)("div",{className:l,children:[(0,y.jsxs)("div",{className:u,children:[(0,y.jsxs)("p",{children:[(0,y.jsx)("b",{children:"First booster: "}),"1/1/1970, 12:00:00 AM"===new Date(t.bstrOne).toLocaleString()?"None":new Date(t.bstrOne).toLocaleString()]}),(0,y.jsxs)("p",{children:[(0,y.jsx)("b",{children:"Second booster: "}),"1/1/1970, 12:00:00 AM"===new Date(t.bstrTwo).toLocaleString()?"None":new Date(t.bstrTwo).toLocaleString()]})]}),(0,y.jsxs)("div",{className:d,children:[(0,y.jsxs)("p",{children:[(0,y.jsx)("b",{children:"Last time mined: "}),"1/1/1970, 12:00:00 AM"===new Date(t.lastMined).toLocaleString()?"None":new Date(t.lastMined).toLocaleString()]}),(0,y.jsxs)("p",{children:[(0,y.jsx)("b",{children:"Last time upgrade: "}),"1/1/1970, 12:00:00 AM"===new Date(t.lastUpgrade).toLocaleString()?"None":new Date(t.lastUpgrade).toLocaleString()]}),(0,y.jsxs)("p",{children:[(0,y.jsx)("b",{children:"Unstake time: "}),"1/1/1970, 12:00:00 AM"===new Date(t.unstake_time).toLocaleString()?"None":new Date(t.unstake_time).toLocaleString()]})]}),(0,y.jsxs)("div",{className:h,children:[(0,y.jsxs)("p",{children:[(0,y.jsx)("b",{children:"Mine level: "}),t.level]}),(0,y.jsxs)("p",{children:[(0,y.jsx)("b",{children:"Mine locked: "}),0===t.is_locked?"No":"Yes"]}),(0,y.jsxs)("p",{children:[(0,y.jsx)("b",{children:"Mine staked: "}),0===t.is_staked?"No":"Yes"]})]})]}),(0,y.jsxs)("div",{className:m,children:[(0,y.jsx)(p.Z,{onClick:function(){D?function(){var e,n,i,s,o;if(!k){var a=Date.now(),c=new Date(t.unstake_time?"1970-01-01T00:00:00"!==t.unstake_time.toString():t.lastUpgrade);c.setHours(c.getHours()+24);var l=c-a,u=Math.ceil(l/36e5),d=-(new Date).getTimezoneOffset()/60;u+=d,N("Mine"),null===(e=v.n.anchorSession)||void 0===e||e.transact({actions:[{account:"xcryptochaos",name:"minetoken",authorization:[{actor:null===(n=v.n.anchorSession)||void 0===n||null===(i=n.auth)||void 0===i?void 0:i.actor.toString(),permission:"active"}],data:{player:null===(s=v.n.anchorSession)||void 0===s||null===(o=s.auth)||void 0===o?void 0:o.actor.toString(),mineId:null===t||void 0===t?void 0:t.id}}]},{blocksBehind:3,expireSeconds:30}).then((function(e){r.Am.success("Mining started successfully"),N(null)})).catch((function(e){r.Am.error("You can mine after ".concat(u," hours")),N(null)}))}}():M&&function(){var e,n;if(!k){var i=Date.now(),s=new Date(t.unstake_time?"1970-01-01T00:00:00"!==t.unstake_time.toString():t.lastUpgrade);s.setHours(s.getHours()+24);var o=s-i,a=Math.ceil(o/36e5),c=-(new Date).getTimezoneOffset()/60;a+=c,N("Mine"),v.n.wax.api.transact({actions:[{account:"xcryptochaos",name:"minetoken",authorization:[{actor:null===(e=v.n.wax)||void 0===e?void 0:e.userAccount,permission:"active"}],data:{player:null===(n=v.n.wax)||void 0===n?void 0:n.userAccount,mineId:null===t||void 0===t?void 0:t.id}}]},{blocksBehind:3,expireSeconds:30}).then((function(e){r.Am.success("Mining started successfully"),N(null)})).catch((function(e){r.Am.error("You can mine after ".concat(a," hours")),N(null)}))}}()},loader:k,size:"fit",color:"blue",children:"Mine"}),(0,y.jsx)(p.Z,{onClick:function(){return I(C[null===t||void 0===t?void 0:t.asset_id])},loader:k,size:"fit",color:"blue",children:"Upgrade"})]})]})}}}]);
//# sourceMappingURL=850.5a341f18.chunk.js.map